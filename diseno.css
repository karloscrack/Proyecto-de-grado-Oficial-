/* =========================================
   1. ESTILOS GENERALES Y ESTRUCTURA
   ========================================= */
* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
}

body { 
    overflow-x: hidden; 
    color: #333; 
    background-color: #f5f5f5; 
    padding-top: 100px; /* Espacio para el header fijo */
    
    /* IMAGEN DE FONDO GLOBAL (La que usabas en biblioteca) */
    background-image: url('Img/Gemini_Generated_Image_pv6zv4pv6zv4pv6z~2.jpg'); 
    background-size: cover; 
    background-position: center center; 
    background-attachment: fixed; 
    background-repeat: no-repeat;
    
    display: flex; 
    flex-direction: column; 
    min-height: 100vh;
}

/* =========================================
   2. HEADER (ENCABEZADO)
   ========================================= */
.header { 
    position: fixed; top: 0; left: 0; width: 100%; 
    padding: 15px 30px; 
    background: rgba(255, 255, 255, 0.95); 
    backdrop-filter: blur(10px); 
    z-index: 1000; 
    display: flex; justify-content: space-between; align-items: center; 
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); 
}

.logo { display: flex; align-items: center; }
.logo a { display: block; }
.logo Img { height: 80px; margin-right: 15px; transition: transform 0.3s ease; }
.logo Img:hover { transform: scale(1.05); }

.menu-toggle { display: block; background: none; border: none; font-size: 1.8rem; color: #6A0DAD; cursor: pointer; }

/* Botón de Login/Salir en Header */
.btn-login-header { 
    background: #c62828; color: white; padding: 10px 20px; 
    border-radius: 25px; text-decoration: none; font-weight: bold; 
    font-size: 0.95rem; margin-left: auto; margin-right: 20px; 
    transition: background 0.3s ease; border: none; cursor: pointer; 
    display: flex; align-items: center; gap: 5px; 
}
.btn-login-header:hover { background: #b71c1c; transform: translateY(-2px); }

/* =========================================
   3. MENÚ LATERAL (HAMBURGUESA)
   ========================================= */
.side-menu { 
    position: fixed; top: 0; right: -300px; width: 300px; height: 100vh; 
    background: white; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); 
    transition: right 0.4s ease; z-index: 1001; padding: 20px; overflow-y: auto; 
}
.side-menu.active { right: 0; }

.close-menu { position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 1.5rem; color: #6A0DAD; cursor: pointer; }
.side-menu h3 { color: #6A0DAD; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #e8e1f4; }
.side-menu ul { list-style: none; }
.side-menu ul li { margin-bottom: 15px; }

/* Enlaces del menú */
.side-menu button.menu-link, .side-menu ul li a { 
    display: flex; align-items: center; color: #555; text-decoration: none; 
    font-size: 1.1rem; padding: 10px 15px; border-radius: 8px; 
    transition: all 0.3s ease; background: none; border: none; 
    width: 100%; cursor: pointer; text-align: left; font-family: inherit; 
}
.side-menu button.menu-link:hover, .side-menu ul li a:hover { background: #f0eafa; color: #6A0DAD; }
.side-menu i { margin-right: 12px; color: #6A0DAD; width: 25px; text-align: center; }

/* Fondo oscuro al abrir menú */
.overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0,0,0,0.5); display: none; z-index: 1000; 
}
.overlay.active { display: block; }

/* =========================================
   4. CONTENEDORES Y TARJETAS (LOGIN Y BÚSQUEDA)
   ========================================= */
.container { 
    max-width: 1200px; margin: 0 auto; padding: 40px 20px; 
    flex: 1; width: 95%; 
}

/* Tarjeta Principal (Usada en Login y Admin) */
.search-card, .login-card { 
    background: rgba(255, 255, 255, 0.95); 
    border-radius: 15px; 
    padding: 40px; 
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); 
    border-top: 5px solid #6A0DAD; 
    max-width: 500px; /* Ancho ideal para login */
    margin: 40px auto; 
    text-align: center;
}

/* Formularios */
.form-group { margin-bottom: 20px; text-align: left; }
.form-group label { display: block; margin-bottom: 8px; color: #2E8B57; font-weight: bold; }
.form-group input, .form-group select, .form-group textarea { 
    width: 100%; padding: 12px; 
    border: 2px solid #e8e1f4; border-radius: 8px; 
    font-size: 1rem; transition: border-color 0.3s ease; 
}
.form-group input:focus { outline: none; border-color: #6A0DAD; }

/* Botones Principales */
.btn-submit { 
    width: 100%; padding: 15px; 
    background: #6A0DAD; color: white; 
    border: none; border-radius: 50px; 
    font-weight: bold; font-size: 1.1rem; 
    cursor: pointer; transition: 0.3s; margin-top: 10px; 
}
.btn-submit:hover { background: #5a0b96; transform: translateY(-3px); }

/* Caja de Error */
.error-box { 
    background: #ffebee; border: 2px solid #ffcdd2; color: #b71c1c; 
    padding: 20px; border-radius: 10px; text-align: center; 
    margin-top: 20px; font-size: 0.95rem;
}

/* =========================================
   5. PANELES DE ADMINISTRACIÓN Y PERFIL
   ========================================= */
/* Grid de opciones admin */
.admin-options { 
    display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
    gap: 20px; margin-bottom: 30px; 
}
.option-card { 
    background: white; padding: 20px; border-radius: 15px; 
    text-align: center; cursor: pointer; border-bottom: 4px solid #ccc; 
    box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.3s; 
}
.option-card:hover, .option-card.active { 
    transform: translateY(-5px); border-color: #6A0DAD; background: #fff; 
}
.option-card i { font-size: 2.5rem; color: #6A0DAD; margin-bottom: 10px; }

/* Perfil de Usuario Hero */
.profile-hero { 
    background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); 
    border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.3); 
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2); 
    display: flex; align-items: center; padding: 30px; margin-bottom: 40px; gap: 30px; 
}
.profile-hero Img { 
    width: 120px; height: 120px; border-radius: 50%; 
    object-fit: cover; border: 4px solid #6A0DAD; 
}
.hero-text h1 { color: #2E8B57; font-size: 2.5rem; margin: 0; }
.hero-text h2 { color: #6A0DAD; font-size: 1.8rem; margin: 5px 0 0 0; }

/* Galería de Evidencias */
.files-grid, .grid-gallery { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); 
    gap: 20px; padding-bottom: 50px; 
}
.file-card, .gallery-card { 
    background: rgba(255, 255, 255, 0.95); border-radius: 15px; 
    overflow: hidden; transition: all 0.3s ease; cursor: pointer; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); position: relative; 
}
.file-card:hover, .gallery-card:hover { transform: translateY(-5px); }
.card-preview, .gallery-media { 
    height: 160px; background: #f0f0f0; display: flex; 
    align-items: center; justify-content: center; overflow: hidden; 
}
.card-preview Img, .card-preview video, .gallery-media { width: 100%; height: 100%; object-fit: cover; }
.card-preview i { font-size: 4rem; color: #ccc; }
.card-info { padding: 10px; text-align: center; font-weight: bold; color: #444; }

/* =========================================
   6. FOOTER
   ========================================= */
footer { background: #2c2c2c; color: white; padding: 40px 20px; text-align: center; margin-top: auto; }
.footer-content { max-width: 1200px; margin: 0 auto; }
.footer-logo Img { height: 100px; margin-bottom: 15px; }
.footer-logo h3 { color: #6A0DAD; font-size: 1.8rem; margin: 0; }
.footer-social { display: flex; justify-content: center; gap: 20px; margin: 25px 0; }
.footer-social a { 
    display: flex; align-items: center; justify-content: center; 
    width: 40px; height: 40px; background: #444; 
    color: white; border-radius: 50%; transition: all 0.3s ease; text-decoration: none; 
}
.footer-social a:hover { background: #6A0DAD; transform: translateY(-5px); }
.copyright { color: #999; font-size: 0.9rem; padding-top: 20px; border-top: 1px solid #444; }

/* =========================================
   7. RESPONSIVE (MÓVILES)
   ========================================= */
@media (max-width: 768px) {
    .header { padding: 0 15px; }
    .logo Img { height: 60px; }
    .btn-login-header span { display: none; }
    
    .profile-hero { flex-direction: column; text-align: center; }
    
    .files-grid, .grid-gallery { 
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
    }
    
    .search-card, .login-card { padding: 25px; margin: 20px auto; }
}
/* =========================================
   1. ESTILOS BASE (COPIADOS DE TU INICIO.CSS ORIGINAL)
   ========================================= */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

body { 
    overflow-x: hidden; 
    color: #333; 
    background-color: #f5f5f5; 
    /* Fondo fijo original */
    background-image: url('Img/fondo_login.jpg'); 
    background-size: cover; 
    background-position: center center; 
    background-attachment: fixed;
    background-repeat: no-repeat;
    padding-top: 100px;
    min-height: 100vh;
    display: flex; flex-direction: column;
}

/* --- HEADER ORIGINAL --- */
.header { position: fixed; top: 0; left: 0; width: 100%; padding: 15px 30px; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); z-index: 1000; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
.logo { display: flex; align-items: center; }
.logo a { display: block; } 
.logo Img { height: 80px; margin-right: 15px; transition: transform 0.3s ease; }
.logo Img:hover { transform: scale(1.05); } 
.menu-toggle { display: block; background: none; border: none; font-size: 1.8rem; color: #6A0DAD; cursor: pointer; }

/* Botón Header */
.btn-login-header { background: #c62828; color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: bold; font-size: 0.95rem; margin-left: auto; margin-right: 20px; transition: background 0.3s ease; display: inline-flex; align-items: center; gap: 8px; border: none; cursor: pointer; }
.btn-login-header:hover { background: #b71c1c; transform: translateY(-2px); }

/* --- MENÚ LATERAL ORIGINAL --- */
.side-menu { position: fixed; top: 0; right: -300px; width: 300px; height: 100vh; background: white; box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1); transition: right 0.4s ease; z-index: 1001; padding: 20px; overflow-y: auto; }
.side-menu.active { right: 0; }
.close-menu { position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 1.5rem; color: #6A0DAD; cursor: pointer; }
.side-menu h3 { color: #6A0DAD; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #e8e1f4; }
.side-menu ul { list-style: none; }
.side-menu ul li { margin-bottom: 15px; }
/* Estilo unificado para links y botones del menú */
.side-menu ul li a, .side-menu ul li button { display: flex; align-items: center; color: #555; text-decoration: none; font-size: 1.1rem; padding: 10px 15px; border-radius: 8px; transition: all 0.3s ease; background: none; border: none; width: 100%; cursor: pointer; text-align: left; font-family: inherit; }
.side-menu ul li a:hover, .side-menu ul li button:hover { background: #f0eafa; color: #6A0DAD; }
.side-menu ul li a i, .side-menu ul li button i { margin-right: 12px; color: #6A0DAD; width: 25px; text-align: center; }

/* Overlay */
.overlay, .overlay-menu { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; z-index: 1000; }
.overlay.active, .overlay-menu.active { display: block; }

/* --- FOOTER ORIGINAL --- */
footer { background: #2c2c2c; color: white; padding: 40px 20px; text-align: center; margin-top: auto; }
.footer-content { max-width: 1200px; margin: 0 auto; }
.footer-logo { display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; }
.footer-logo Img { height: 100px; margin-bottom: 15px; }
.footer-logo h3 { color: #6A0DAD; font-size: 1.8rem; margin: 0; }
.footer-links { display: flex; justify-content: center; gap: 30px; margin-bottom: 30px; flex-wrap: wrap; }
.footer-links a { color: #ccc; text-decoration: none; transition: color 0.3s ease; }
.footer-links a:hover { color: #6A0DAD; }
.footer-social { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; }
.footer-social a { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; background: #444; color: white; border-radius: 50%; transition: all 0.3s ease; text-decoration: none; }
.footer-social a:hover { background: #6A0DAD; transform: translateY(-5px); color: white; }
.copyright { color: #999; font-size: 0.9rem; padding-top: 20px; border-top: 1px solid #444; }

/* =========================================
   2. ESTILOS DEL PERFIL (TU DISEÑO ESPECÍFICO)
   ========================================= */
.container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; flex: 1; width: 95%; }

/* Efecto Cristal Original */
.glass-panel { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2); }

.profile-hero { display: flex; align-items: center; padding: 30px; margin-bottom: 40px; gap: 30px; }
.profile-hero Img { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid #6A0DAD; }
.hero-text h1 { color: #2E8B57; font-size: 2.5rem; margin: 0; }
.hero-text h2 { color: #6A0DAD; font-size: 1.8rem; margin: 5px 0 0 0; }

/* Título de sección original */
.section-title { color: white; font-size: 1.8rem; margin-bottom: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.8); border-left: 6px solid #6A0DAD; padding-left: 15px; background: rgba(0,0,0,0.3); padding: 10px 15px; border-radius: 0 10px 10px 0; display: inline-block; }

/* --- GALERÍA (Grid original ajustado para no romperse) --- */
.files-grid, .grid-gallery { 
    display: grid; 
    /* El cambio clave: auto-fill minmax permite que bajen solas sin media queries complejas */
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
    gap: 25px; padding-bottom: 50px; width: 100%;
}

.file-card, .gallery-card { background: rgba(255, 255, 255, 0.95); border-radius: 15px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-top: 4px solid transparent; cursor: pointer; position: relative; }
.file-card:hover, .gallery-card:hover { transform: translateY(-8px); box-shadow: 0 12px 25px rgba(0,0,0,0.2); border-top: 4px solid #6A0DAD; }

.card-preview, .gallery-media { height: 160px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; }
.card-preview Img, .card-preview video, .gallery-media { width: 100%; height: 100%; object-fit: cover; }
.card-preview i { font-size: 4rem; color: #ccc; }
.play-icon-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; color: rgba(255,255,255,0.8); text-shadow: 0 2px 5px rgba(0,0,0,0.5); pointer-events: none; }

.card-info, .gallery-info { padding: 15px; text-align: center; }
.card-info h4 { color: #333; margin-bottom: 5px; font-size: 1rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.btn-view { display: inline-block; margin-top: 10px; padding: 8px 20px; background: #6A0DAD; color: white; border-radius: 20px; text-decoration: none; font-size: 0.9rem; transition: background 0.3s; }
.btn-view:hover { background: #5a0b96; }

/* =========================================
   3. ESTILOS DE ADMIN (Compatibles con tu diseño)
   ========================================= */
.admin-options { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-bottom: 30px; }
.option-card { background: white; padding: 20px; border-radius: 15px; text-align: center; cursor: pointer; border-bottom: 4px solid #ccc; transition: all 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.option-card:hover, .option-card.active { transform: translateY(-5px); border-color: #6A0DAD; background: #fff; box-shadow: 0 10px 20px rgba(106, 13, 173, 0.15); }
.option-card i { font-size: 2.5rem; color: #6A0DAD; margin-bottom: 10px; }

.search-card { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-top: 4px solid #6A0DAD; margin-bottom: 30px; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; color: #2E8B57; font-weight: bold; }
.form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 2px solid #e8e1f4; border-radius: 8px; font-size: 1rem; }
.btn-submit { width: 100%; padding: 15px; background: #6A0DAD; color: white; border: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer; transition: 0.3s; margin-top: 10px; }
.btn-submit:hover { background: #5a0b96; transform: translateY(-3px); }

/* Tabla Usuarios */
.user-item { display: flex; justify-content: space-between; align-items: center; background: white; padding: 15px; margin-bottom: 10px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 4px solid #6A0DAD; }
.user-item.inactive { opacity: 0.6; background: #eee; border-left-color: #757575; }
.btn-action { width: 35px; height: 35px; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; color: white; transition: 0.3s; }
.btn-del { background: #e53935; } 
.btn-eye { background: #fb8c00; } 
.btn-toggle { background: #43a047; } .btn-toggle.off { background: #757575; }
.btn-add-ref { background: #6A0DAD; }
.btn-trash-ev { position: absolute; top: 5px; right: 5px; width: 30px; height: 30px; background: rgba(244, 67, 54, 0.9); color: white; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 10; }

/* Tabs y DragZone */
.upload-tabs { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
.tab-btn { background: none; border: none; font-size: 1.1rem; color: #555; cursor: pointer; padding: 10px 20px; border-radius: 20px; transition: 0.3s; font-weight: bold; }
.tab-btn.active { background: #6A0DAD; color: white; }
.drop-zone { border: 3px dashed #b39ddb; border-radius: 15px; padding: 40px; text-align: center; cursor: pointer; background: #fdfdff; }
.drop-zone:hover { background: #f3e5f5; border-color: #6A0DAD; }
.drop-zone i { font-size: 3.5rem; color: #6A0DAD; margin-bottom: 10px; }

/* Lightbox & Modales */
.lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; justify-content: center; align-items: center; flex-direction: column; backdrop-filter: blur(5px); }
.lightbox.active { display: flex; animation: fadeIn 0.3s; }
.lightbox-content Img, .lightbox-content video { max-width: 90%; max-height: 80vh; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
.lightbox-details { color: white; text-align: center; margin-top: 20px; }
.btn-download { background: #2E8B57; color: white; padding: 8px 20px; border-radius: 20px; text-decoration: none; font-weight: bold; display: inline-flex; align-items: center; gap: 8px; transition: 0.3s; }
.lightbox-close { position: absolute; top: 20px; right: 30px; color: white; font-size: 2.5rem; cursor: pointer; transition: 0.3s; }
.info-modal, .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 2500; display: none; justify-content: center; align-items: center; backdrop-filter: blur(3px); }
.info-modal.active, .modal.active { display: flex; animation: fadeIn 0.3s; }
.info-card, .modal-content { background: white; width: 90%; max-width: 500px; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-align: center; border-top: 5px solid #6A0DAD; }
.btn-close-modal { background: #6A0DAD; color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; font-weight: bold; }

/* Secciones Panel */
.panel-section { display: none; animation: fadeIn 0.4s; }
.panel-section.active { display: block; }
@keyframes fadeIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }

/* =========================================================
   4. ADAPTABILIDAD (RESPONSIVE) - AQUÍ ESTÁ LA MAGIA
   (Solo se activa en pantallas menores a 768px - Celulares)
   ========================================================= */
@media (max-width: 768px) {
    /* Ajuste Header */
    .header { padding: 10px 15px; }
    .logo Img { height: 60px; }
    .btn-login-header span { display: none; } /* Oculta texto "Salir", deja icono */
    
    /* Menú Lateral */
    .side-menu { width: 85%; max-width: 300px; }
    
    /* Perfil Hero Vertical */
    .profile-hero { flex-direction: column; text-align: center; padding: 20px; }
    .hero-text h1 { font-size: 2rem; }
    .hero-text h2 { font-size: 1.5rem; }
    
    /* Grids a 1 o 2 columnas en vez de muchas */
    .files-grid, .grid-gallery { 
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
        gap: 15px;
    }
    .admin-options { grid-template-columns: repeat(2, 1fr); }
    
    /* Formularios: Inputs ocupan todo el ancho */
    #registerForm div[style*="grid"] { display: flex !important; flex-direction: column; gap: 10px; }
    input, select, textarea { width: 100% !important; }
    
    /* Lista de Usuarios (Apilada) */
    .user-item { flex-direction: column; align-items: flex-start; }
    .user-actions { width: 100%; justify-content: flex-end; margin-top: 10px; }
    
    /* Tabs de Subida */
    .upload-tabs { gap: 10px; }
    .tab-btn { font-size: 0.9rem; padding: 8px 12px; }
    
    /* Tablas con Scroll */
    .search-card { overflow-x: auto; padding: 20px; } /* Permite scroll horizontal si la tabla es ancha */
    .data-table { min-width: 500px; }
}
/* --- ESTILOS NUEVOS: MODO CARPETA Y SELECCIÓN --- */

/* Contenedor de carpetas (Grid de Estudiantes) */
.folder-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    padding: 20px 0;
}

.folder-card {
    background: var(--bg-card);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    border: 1px solid var(--border-color);
    transition: transform 0.2s, box-shadow 0.2s;
    position: relative;
}

.folder-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(106, 13, 173, 0.2);
    border-color: #6A0DAD;
}

.folder-icon Img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #6A0DAD;
    margin-bottom: 10px;
}

.folder-badge {
    background: #6A0DAD;
    color: white;
    padding: 2px 10px;
    border-radius: 10px;
    font-size: 0.8rem;
    position: absolute;
    top: 10px;
    right: 10px;
}

/* Barra de Herramientas Flotante (Selección Múltiple) */
.selection-toolbar {
    position: fixed;
    bottom: 30px;
    left: 50%;
    /* CAMBIO AQUÍ: Usamos 200% para que se baje mucho más y no se vea */
    transform: translateX(-50%) translateY(200%); 
    background: #333;
    color: white;
    padding: 15px 30px;
    border-radius: 50px;
    display: flex;
    gap: 20px;
    align-items: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index: 2000;
}

.selection-toolbar.active {
    transform: translateX(-50%) translateY(0);
}

.selection-toolbar button {
    background: white;
    color: #333;
    border: none;
    padding: 8px 15px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    display: flex; align-items: center; gap: 5px;
}
.selection-toolbar button.btn-danger { background: #e53935; color: white; }

/* Checkbox visual en las fotos */
.select-checkbox {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 25px;
    height: 25px;
    background: white;
    border: 2px solid #ccc;
    border-radius: 5px;
    cursor: pointer;
    z-index: 10;
    display: none; /* Oculto hasta activar modo */
    align-items: center;
    justify-content: center;
    color: #6A0DAD;
    font-size: 1rem;
}

.compact-card.selecting .select-checkbox { display: flex; }
.compact-card.selected { border: 3px solid #6A0DAD; transform: scale(0.95); }
.compact-card.selected .select-checkbox { background: #6A0DAD; color: white; border-color: #6A0DAD; }
.compact-card.selected .select-checkbox::after { content: '\2713'; } /* Checkmark unicode */

/* Modal de Progreso */
.progress-modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); z-index: 3000;
    display: none; justify-content: center; align-items: center;
}
.progress-box {
    background: white; padding: 30px; border-radius: 15px; width: 300px; text-align: center;
}
.pb-bar-container { width: 100%; background: #eee; height: 10px; border-radius: 5px; margin-top: 15px; overflow: hidden; }
.pb-fill { height: 100%; background: #6A0DAD; width: 0%; transition: width 0.3s; }
/* --- BOTONES DE ACCIÓN (ESTILO PILL MODERN) --- */
.action-pill {
    padding: 8px 20px;
    border-radius: 50px;
    border: 1px solid transparent;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease;
    background: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.action-pill i { font-size: 1rem; }

/* Botón Volver */
.btn-back-pill {
    color: #555;
    border-color: #ddd;
}
.btn-back-pill:hover {
    background: #f5f5f5;
    transform: translateX(-3px); /* Pequeño movimiento a la izquierda */
    color: #333;
    border-color: #bbb;
}

/* --- ESTILO CORREGIDO DEL BOTÓN SELECCIONAR --- */
.btn-select-pill {
    color: #6A0DAD !important;      /* Letras moradas */
    background-color: #ffffff !important; /* Fondo blanco */
    border: 2px solid #6A0DAD !important; /* Borde morado */
    padding: 8px 20px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    display: flex; align-items: center; gap: 8px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.btn-select-pill:hover {
    background-color: #6A0DAD !important; /* Fondo morado al pasar el mouse */
    color: #ffffff !important;            /* Letras blancas */
    transform: translateY(-2px);
}

/* Cuando está activo (Modo Cancelar) se pone rojo */
.btn-select-pill.active {
    background-color: #e53935 !important; 
    color: white !important;
    border-color: #e53935 !important;
}